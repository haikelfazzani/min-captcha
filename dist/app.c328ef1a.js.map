{"version":3,"sources":["../index.js","app.js"],"names":["name","factory","module","exports","define","amd","getRndStr","nbChars","charPool","text","i","charAt","Math","random","length","rndColor","color","r","floor","g","b","charColor","ctx","str","x","y","ch","fillStyle","fillText","measureText","width","setup","charsColor","cnvsWidth","cnvsHeight","textFont","textPosX","textPosY","rndStr","canvas","document","createElement","getContext","height","font","captcha","require","window","onload","input","getElementById","btn","result","divElement","config","console","log","appendChild","onclick","textContent","value"],"mappings":"ACAA,IAAI6C,OAAO,GAAGC,OAAO,CAAC,UAAD,CAArB;;AAEAC,MAAM,CAACC,MAAP,GAAgB,YAAM;ADFrB,ACIG,MAAIC,KDJGjD,ACIE,GAAGwC,CDJf,EAAgBvC,KCIO,CAACiD,CDJxB,EAAyB,WCIV,CAAwB,OAAxB,CAAZ;ADHA,ACGA,MDHI,ACIAC,GAAG,GAAGX,CDJCtC,MAAP,CCIc,CAACgD,EDJE,WAArB,CCIU,CDJwB,ACIA,KAAxB,CADV;ADFIhD,ACEJ,IDFIA,ECIAkD,IDJM,CAACjD,CCID,GAAGqC,GDJT,GAAiBvC,ECIA,CAACiD,IDJM,EAAxB,QCIS,CAAwB,QAAxB,CAFb;ADDC,ACCD,GDHA,GCMIG,GDHC,IAAI,GCGK,GAAGb,CDHDpC,MAAP,CCGgB,CAAC8C,EDHA,UAAjB,ECGQ,CAAwB,CDHD,OCGvB,CDH8B9C,ACA/C,MDAqD,CAACC,GAAd,KAAqB,QAAxD,EAAkE;AACnED,ACIJ,IDJIA,ECIEkD,IDJI,CAACrD,CCIC,GAAG,GDJL,CAAN;AACH,ACIGM,GDNC,CCMDA,KDHC,ECGM,EAAE,CADE;ADDX,ACGAyB,IAAAA,KDHKhC,IAAL,CCGU,EAAE,CDHCC,KCCF,EDDS,EAApB;AACH,ACGGO,IAAAA,QAAQ,EAAE,cAHC;ADClB,ACGO2B,CDbP,EAUC,CCGMA,QDbP,ACae,EDHH,ACGK,YDHO;AAErB,ACHe,GAAf,MDGO;AAEH7B,IAAAA,SAFG,uBAEmE;AAAA,ACZxD,UDYJC,OAA4D,MCEjDsC,OAAO,CAACd,KAAR,CAAcuB,MAAd,CAdP,4CDYM,CAAkD;AAAA,ACZxD,MAcZf,IDFqB/B,ECZT,MDYwD,YCEpE+B,MAdY,qDDYoB,kCAAoC;AAElE,ACdU,MAcJD,IDAF7B,ECdM,EDcF,GAAG,EAAX,WCAM6B,MAdI;;ADeV,ACCRiB,EAAAA,OAAO,CAACC,CDDK,ECCb,CAAYjB,CDDK7B,CAAC,GAAG,CAAb,ACCR,EDDwBA,ACCJ4B,CDDK,GAAG/B,ECC5B,KDDQ,EAA6BG,CAAC,EAA9B,EAAkC;AAC9BD,ACEZ4C,EAAAA,MDFY5C,IAAI,ACEN,CAACgD,GDFSjD,QAAQ,ACE5B,CDF6BG,ACEN4B,MDFH,ACEpB,CDFqC3B,IAAI,CAACC,MAAL,KAAgBL,QAAQ,CAACM,MAA1B,GAAoC,CAApD,CAAR;AACH;ACGTqC,EAAAA,GAAG,CAACO,OAAJ,GAAc,YAAM;ADFZ,ACGJN,IAAAA,MAAM,CAACO,EDHIlD,IAAP,KCGJ,GAAqBwC,KAAK,CAACW,KAAN,KAAgBtB,MAAhB,GAAyB,MAAzB,GAAkC,KAAvD;ADDC,ACEJ,GAFD,EDVO;AAWHvB,ACEP,CAvBD,GDqBQA,QAXG,oBAWMC,KAXN,EAWa;AACZ,UAAIC,CAAC,GAAGL,IAAI,CAACM,KAAL,CAAWN,IAAI,CAACC,MAAL,KAAgB,GAA3B,CAAR;AAAA,UACIM,CAAC,GAAGP,IAAI,CAACM,KAAL,CAAWN,IAAI,CAACC,MAAL,KAAgB,GAA3B,CADR;AAAA,UAEIO,CAAC,GAAGR,IAAI,CAACM,KAAL,CAAWN,IAAI,CAACC,MAAL,KAAgB,GAA3B,CAFR;AAIA,aAAOG,KAAK,kBAAWC,CAAX,cAAgBE,CAAhB,cAAqBC,CAArB,MAAZ;AAEH,KAlBE;AAmBHC,IAAAA,SAnBG,qBAmBOC,GAnBP,EAmBYC,GAnBZ,EAmBiBP,KAnBjB,EAmBwBQ,CAnBxB,EAmB2BC,CAnB3B,EAmB8B;AAE7B,WAAK,IAAIf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGa,GAAG,CAACT,MAAxB,EAAgCJ,CAAC,EAAjC,EAAqC;AACjC,YAAIgB,EAAE,GAAGH,GAAG,CAACZ,MAAJ,CAAWD,CAAX,CAAT;AACAY,QAAAA,GAAG,CAACK,SAAJ,GAAgB,KAAKZ,QAAL,CAAcC,KAAd,CAAhB;AACAM,QAAAA,GAAG,CAACM,QAAJ,CAAaF,EAAb,EAAiBF,CAAjB,EAAoBC,CAApB;AACAD,QAAAA,CAAC,IAAIF,GAAG,CAACO,WAAJ,CAAgBH,EAAhB,EAAoBI,KAAzB;AACH;AAEJ,KA5BE;AA6BHC,IAAAA,KA7BG,mBAqCK;AAAA,qFAAJ,EAAI;AAAA,UAPJxB,OAOI,QAPJA,OAOI;AAAA,UANJC,QAMI,QANJA,QAMI;AAAA,iCALJwB,UAKI;AAAA,UALJA,UAKI,gCALS,EAKT;AAAA,gCAJJC,SAII;AAAA,UAJJA,SAII,+BAJQ,GAIR;AAAA,iCAJaC,UAIb;AAAA,UAJaA,UAIb,gCAJ0B,EAI1B;AAAA,+BAHJC,QAGI;AAAA,UAHJA,QAGI,8BAHO,YAGP;AAAA,+BAFJC,QAEI;AAAA,UAFJA,QAEI,8BAFO,EAEP;AAAA,+BADJC,QACI;AAAA,UADJA,QACI,8BADO,EACP;;AAEJ,UAAIC,MAAM,GAAG,KAAKhC,SAAL,CAAeC,OAAf,EAAwBC,QAAxB,CAAb;AAEA,UAAM+B,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AAAA,UAAiDnB,GAAG,GAAGiB,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAvD;AAEAH,MAAAA,MAAM,CAACT,KAAP,GAAeG,SAAf;AACAM,MAAAA,MAAM,CAACI,MAAP,GAAgBT,UAAhB;AACAZ,MAAAA,GAAG,CAACsB,IAAJ,GAAWT,QAAX;AAEA,WAAKd,SAAL,CAAeC,GAAf,EAAoBgB,MAApB,EAA4BN,UAA5B,EAAwCI,QAAxC,EAAkDC,QAAlD;AAEA,aAAO;AAAEE,QAAAA,MAAM,EAANA,MAAF;AAAUD,QAAAA,MAAM,EAANA;AAAV,OAAP;AACH;AAlDE,GAAP;AAsDH,CAlEA,CAAD","file":"app.c328ef1a.js","sourceRoot":"..\\examples","sourcesContent":["(function (name, factory) {\r\n    if (typeof module != 'undefined') {\r\n        module.exports = factory();\r\n    }\r\n    else if (typeof define == 'function' && typeof define.amd == 'object') {\r\n        define(factory);\r\n    }\r\n    else {\r\n        this[name] = factory();\r\n    }\r\n}('captcha', function () {\r\n\r\n    return {\r\n\r\n        getRndStr(nbChars = 5, charPool = \"ABCDEFGHIKLMNOPQRSTVXYZ123456789\") {\r\n            \r\n            let text = \"\";\r\n            for (let i = 0; i < nbChars; i++) {\r\n                text += charPool.charAt((Math.random() * charPool.length) | 0);\r\n            }\r\n            return text;\r\n\r\n        },\r\n        rndColor(color) {\r\n            let r = Math.floor(Math.random() * 256),\r\n                g = Math.floor(Math.random() * 256),\r\n                b = Math.floor(Math.random() * 256);\r\n\r\n            return color || `rgb(${r},${g},${b})`;\r\n\r\n        },\r\n        charColor(ctx, str, color, x, y) {\r\n\r\n            for (let i = 0; i < str.length; i++) {\r\n                let ch = str.charAt(i);\r\n                ctx.fillStyle = this.rndColor(color);\r\n                ctx.fillText(ch, x, y);\r\n                x += ctx.measureText(ch).width;\r\n            }\r\n\r\n        },\r\n        setup({\r\n            nbChars,\r\n            charPool,\r\n            charsColor = \"\",\r\n            cnvsWidth = 130, cnvsHeight = 30,\r\n            textFont = \"18px Arial\",\r\n            textPosX = 30,\r\n            textPosY = 30\r\n        } = {}) {\r\n\r\n            let rndStr = this.getRndStr(nbChars, charPool);\r\n\r\n            const canvas = document.createElement('canvas'), ctx = canvas.getContext('2d');\r\n\r\n            canvas.width = cnvsWidth;\r\n            canvas.height = cnvsHeight;\r\n            ctx.font = textFont;\r\n\r\n            this.charColor(ctx, rndStr, charsColor, textPosX, textPosY);\r\n\r\n            return { canvas, rndStr };\r\n        }\r\n\r\n    };\r\n\r\n}));\r\n","var captcha = require('../index');\r\n\r\nwindow.onload = () => {\r\n\r\n    let input = document.getElementById(\"input\"),\r\n        btn = document.getElementById(\"btn\"),\r\n        result = document.getElementById(\"result\"),\r\n        divElement = document.getElementById(\"my-div\");\r\n\r\n    const config = {\r\n        nbChars: 3,\r\n        charsColor: \"#000\",\r\n        charPool: \"abcdef123456\",\r\n        textFont: \"25px Arial\"\r\n    };\r\n\r\n    let { canvas, rndStr } = captcha.setup(config);\r\n\r\n    console.log(canvas, rndStr)\r\n\r\n    divElement.appendChild(canvas);\r\n\r\n    btn.onclick = () => {\r\n        result.textContent = input.value === rndStr ? \"good\" : \"bad\";\r\n    }\r\n}"]}