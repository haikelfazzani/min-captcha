{"version":3,"sources":["../src/captcha.js","app.js"],"names":["Captcha","nbChars","myStr","text","i","charAt","Math","floor","random","length","r","g","b","ctx","str","x","y","ch","fillStyle","randomColor","fillText","measureText","width","randString","getRndString","sizeAndFont","canvasWidth","canvasHeight","canvas","document","createElement","getContext","height","font","charColor","window","onload","input","getElementById","btn","result","divElement","captcha","setupCanvas","offsetWidth","appendChild","style","display","onclick","value","textContent"],"mappings":"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","file":"app.c328ef1a.map","sourceRoot":"..\\examples","sourcesContent":["export default class Captcha {\r\n\r\n    // nbChars : number of characters to be generated\r\n    // myStr : specify your own string\r\n    getRndString({ nbChars = 5, myStr = \"ABCDEFGHIKLMNOPQRSTVXYZ123456789\" } = {}) {\r\n        let text = \"\";\r\n        for (let i = 0; i < nbChars; i++) {\r\n            text += myStr.charAt(Math.floor(Math.random() * myStr.length));\r\n        }\r\n        return text;\r\n    }\r\n\r\n    randomColor() {\r\n        let r = Math.floor(Math.random() * 256),\r\n            g = Math.floor(Math.random() * 256),\r\n            b = Math.floor(Math.random() * 256);\r\n        return `rgb(${r},${g},${b})`;\r\n    }\r\n\r\n    charColor(ctx, str, x, y) {\r\n        for (let i = 0; i < str.length; i++) {\r\n            let ch = str.charAt(i);\r\n            ctx.fillStyle = this.randomColor();\r\n            ctx.fillText(ch, x, y);\r\n            x += ctx.measureText(ch).width;\r\n        }\r\n    }\r\n\r\n    // x : The x coordinate where to start painting the text (relative to the canvas)\t\r\n    // y : The y coordinate where to start painting the text (relative to the canvas)    \r\n    setupCanvas({\r\n        randString = this.getRndString(),\r\n        sizeAndFont = \"18px Arial\",\r\n        canvasWidth = 150,\r\n        canvasHeight = 30,\r\n        x = 20,\r\n        y = 20 } = {}) {\r\n\r\n        let canvas = document.createElement('canvas'), ctx = canvas.getContext('2d');\r\n        canvas.width = canvasWidth;\r\n        canvas.height = canvasHeight;\r\n        ctx.font = sizeAndFont;\r\n        this.charColor(ctx, randString, x, y);\r\n\r\n        return canvas;\r\n    }\r\n\r\n}","import Captcha from '../src/captcha';\r\n\r\nwindow.onload = () => {\r\n\r\n    let input = document.getElementById(\"input\"),\r\n        btn = document.getElementById(\"btn\"),\r\n        result = document.getElementById(\"result\"),\r\n        divElement = document.getElementById(\"my-div\");\r\n\r\n    // first : get instance from Captcha class\r\n    let captcha = new Captcha();\r\n\r\n    /* \r\n        Second : get a random string using getRndString method , \r\n        you can specify how many character (nbChar : optionnal) it will be displayed into the canvas element\r\n        by default : nbChars = 5\r\n    */\r\n    let randString = captcha.getRndString({ nbChars: 3 });\r\n\r\n    /* \r\n        third : setup canvas using the setupCanvas method and add the random string generated as parameter\r\n        randString : optionnal\r\n    */\r\n    let canvas = captcha.setupCanvas(\r\n        {\r\n            randString,\r\n            canvasWidth: divElement.offsetWidth ,\r\n            sizeAndFont: \"28px Arial\",\r\n            x: 40,\r\n            y: 25\r\n        });\r\n\r\n    // last : append canvas to any element you want\r\n    divElement.appendChild(canvas);\r\n\r\n\r\n    result.style.display = \"none\";\r\n    btn.onclick = () => {\r\n        if (input.value === randString) {\r\n            result.style.display = \"block\";\r\n            result.textContent = \"Good!\";\r\n        } else {\r\n            result.textContent = \"Bad!\"\r\n            result.style.display = \"block\";\r\n        }\r\n    }\r\n}"]}